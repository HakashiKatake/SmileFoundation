// Smile Foundation Chatbot Knowledge Base
const SmileKnowledgeBase = {
    // Frequently Asked Questions
    faqs: {
        general: [
            {
                question: "What is Smile Foundation?",
                answer: "Smile Foundation is an Indian development organization established in 2002. We impact the lives of over 20 lakh children and their families every year through 400+ projects on education, healthcare, livelihood, and women empowerment across 27 states of India."
            },
            {
                question: "Where does Smile Foundation work?",
                answer: "We work in over 2,000 remote villages and urban slums across 27 states of India, reaching the most underserved communities with our programs."
            },
            {
                question: "How many people does Smile Foundation help?",
                answer: "We impact over 20 lakh (2 million) children and their families annually through our various programs and initiatives."
            }
        ],
        
        donation: [
            {
                question: "How can I donate to Smile Foundation?",
                answer: "You can donate through our website's donation page. We accept online payments via credit/debit cards, net banking, UPI, and digital wallets. You can also donate via bank transfer or cheque. Visit our donation page for detailed instructions."
            },
            {
                question: "Is my donation tax deductible?",
                answer: "Yes! Donations to Smile Foundation are eligible for tax benefits under Section 80G of the Income Tax Act. You'll receive a tax exemption certificate for your donation."
            },
            {
                question: "What is the minimum donation amount?",
                answer: "There's no minimum amount - every contribution counts! You can donate as little as ₹100 or any amount you're comfortable with. Even small donations make a significant impact."
            },
            {
                question: "How is my donation used?",
                answer: "85% of your donation directly reaches beneficiaries. The remaining 15% covers administrative costs. We maintain complete transparency in fund utilization and provide regular updates on impact."
            },
            {
                question: "Can I donate for a specific program?",
                answer: "Yes! You can choose to donate for specific programs like Education, Healthcare, Women Empowerment, Livelihood, or Disaster Response. You can also make a general donation that supports all our programs."
            }
        ],
        
        volunteering: [
            {
                question: "How can I volunteer with Smile Foundation?",
                answer: "You can volunteer by filling out our volunteer application form on the website. We offer opportunities in teaching, healthcare support, event management, digital marketing, content creation, and more."
            },
            {
                question: "What volunteer opportunities are available?",
                answer: "We offer various volunteering opportunities: Teaching and mentoring children, Healthcare support, Event organization, Digital marketing and social media, Content writing and photography, Fundraising activities, Skill-based volunteering based on your expertise."
            },
            {
                question: "Do I need specific qualifications to volunteer?",
                answer: "While some roles may require specific skills (like teaching or healthcare), many volunteer opportunities are open to anyone with enthusiasm and commitment. We provide training and orientation for all volunteers."
            },
            {
                question: "How much time commitment is required?",
                answer: "We offer both short-term and long-term volunteering opportunities. You can volunteer for a few hours a week, participate in weekend activities, or commit to longer-term projects based on your availability."
            }
        ],
        
        programs: [
            {
                question: "What programs does Smile Foundation run?",
                answer: "We run six main programs: 1) Education (Shiksha Na Ruke, Mission Education), 2) Healthcare (Smile on Wheels, Comprehensive Health Care), 3) Women Empowerment, 4) Livelihood (skill training and placement), 5) Empowering Grassroots, and 6) Disaster Response."
            },
            {
                question: "Tell me about Shiksha Na Ruke program",
                answer: "Shiksha Na Ruke is our flagship education program that ensures children don't drop out of school. It provides quality education, nutrition support, and holistic development to children from underprivileged communities."
            },
            {
                question: "What is Mission Education?",
                answer: "Mission Education focuses on providing quality education to children in remote areas. It includes setting up learning centers, teacher training, educational material distribution, and technology-enabled learning solutions."
            },
            {
                question: "How does Smile on Wheels work?",
                answer: "Smile on Wheels is our mobile healthcare program that brings medical services to doorsteps of hard-to-reach communities. Our mobile medical units provide primary healthcare, preventive care, and health awareness programs."
            }
        ],
        
        partnership: [
            {
                question: "How can my company partner with Smile Foundation?",
                answer: "Companies can partner with us through CSR initiatives, employee engagement programs, skill-based volunteering, payroll giving, and cause marketing campaigns. Contact our corporate partnerships team for customized collaboration opportunities."
            },
            {
                question: "What are the benefits of corporate partnership?",
                answer: "Corporate partnerships offer: CSR compliance and reporting, Employee engagement and team building, Brand visibility and reputation enhancement, Tax benefits under CSR regulations, Measurable social impact, and Regular impact reports."
            },
            {
                question: "Can schools partner with Smile Foundation?",
                answer: "Yes! We have a School Partnership program where schools can engage students in social causes through awareness sessions, fundraising activities, volunteer programs, and educational visits to our project sites."
            }
        ]
    },
    
    // Quick responses for common queries
    quickResponses: {
        greeting: [
            "Hello! I'm here to help you learn about Smile Foundation and how you can get involved in our mission to help underprivileged children.",
            "Hi there! Welcome to Smile Foundation. I can help you with information about our programs, donations, volunteering, and partnerships.",
            "Greetings! I'm your Smile Foundation assistant. How can I help you make a difference in children's lives today?"
        ],
        
        thanks: [
            "You're welcome! Is there anything else you'd like to know about Smile Foundation?",
            "Happy to help! Feel free to ask if you have any other questions.",
            "My pleasure! Let me know if you need any other information about our work."
        ],
        
        goodbye: [
            "Thank you for your interest in Smile Foundation! Together, we can create lasting change in children's lives.",
            "Goodbye! Remember, every small action can make a big difference. We hope to see you as part of our mission soon!",
            "Take care! Don't forget to visit our website for more ways to get involved with Smile Foundation."
        ]
    },
    
    // Donation flow guidance
    donationFlow: {
        steps: [
            "Visit our donation page on the website",
            "Choose your donation amount or select a specific program",
            "Fill in your details for the tax exemption certificate",
            "Select your preferred payment method",
            "Complete the secure payment process",
            "Receive confirmation and tax exemption certificate via email"
        ],
        
        amounts: {
            "₹500": "Can provide educational materials for 2 children for a month",
            "₹1000": "Can support a child's education for a month including meals",
            "₹2500": "Can provide healthcare support for 5 children",
            "₹5000": "Can sponsor a child's complete education for 3 months",
            "₹10000": "Can support livelihood training for 2 women"
        }
    },
    
    // Volunteer flow guidance
    volunteerFlow: {
        steps: [
            "Fill out the volunteer application form on our website",
            "Attend an orientation session (online or offline)",
            "Choose your preferred volunteering area and time commitment",
            "Complete any required training for your chosen role",
            "Start making a difference in children's lives!"
        ],
        
        opportunities: [
            "Teaching and mentoring children",
            "Healthcare and nutrition support",
            "Event planning and coordination",
            "Digital marketing and social media",
            "Content creation and photography",
            "Fundraising and awareness campaigns",
            "Administrative and operational support"
        ]
    },
    
    // Contact information
    contact: {
        email: "info@smilefoundationindia.org",
        phone: "+91-11-43123700",
        address: "Smile Foundation, 1st Floor, Kailash Building, 26 Kasturba Gandhi Marg, New Delhi - 110001",
        website: "www.smilefoundationindia.org",
        socialMedia: {
            facebook: "SmileFoundationIndia",
            twitter: "@SmileFoundation",
            instagram: "@smilefoundationindia",
            linkedin: "Smile Foundation"
        }
    },
    
    // Keywords for intent recognition
    keywords: {
        donation: ["donate", "donation", "contribute", "fund", "money", "pay", "support financially", "give money"],
        volunteer: ["volunteer", "help", "work", "join", "participate", "contribute time", "get involved"],
        programs: ["program", "project", "education", "healthcare", "women empowerment", "livelihood", "disaster"],
        partnership: ["partner", "corporate", "company", "business", "CSR", "collaboration"],
        contact: ["contact", "phone", "email", "address", "reach", "call", "write"],
        about: ["about", "what is", "who are", "history", "mission", "vision", "story"]
    }
};

// Intent recognition function
function recognizeIntent(message) {
    const lowerMessage = message.toLowerCase();
    
    for (const [intent, keywords] of Object.entries(SmileKnowledgeBase.keywords)) {
        if (keywords.some(keyword => lowerMessage.includes(keyword))) {
            return intent;
        }
    }
    
    return 'general';
}

// Get relevant FAQ based on intent
function getRelevantFAQ(intent, message) {
    const faqs = SmileKnowledgeBase.faqs[intent] || SmileKnowledgeBase.faqs.general;
    
    // Find the most relevant FAQ based on message content
    const lowerMessage = message.toLowerCase();
    
    for (const faq of faqs) {
        const questionWords = faq.question.toLowerCase().split(' ');
        const messageWords = lowerMessage.split(' ');
        
        const commonWords = questionWords.filter(word => 
            messageWords.some(msgWord => msgWord.includes(word) || word.includes(msgWord))
        );
        
        if (commonWords.length >= 2) {
            return faq.answer;
        }
    }
    
    return null;
}


if (typeof module !== 'undefined' && module.exports) {
    module.exports = { SmileKnowledgeBase, recognizeIntent, getRelevantFAQ };
} else {
    window.SmileKnowledgeBase = SmileKnowledgeBase;
    window.recognizeIntent = recognizeIntent;
    window.getRelevantFAQ = getRelevantFAQ;
}